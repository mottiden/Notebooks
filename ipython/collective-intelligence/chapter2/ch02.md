
#1. í˜‘ì—… í•„í„°ë§

í˜‘ì—… í•„í„°ë§ ì•Œê³ ë¦¬ì¦˜ì€ í° ë¬´ë¦¬ì˜ ì‚¬ëŒë“¤ì„ ê²€ìƒ‰í•´ì„œ ì—¬ëŸ¬ë¶„ê³¼ ìœ ì‚¬í•œ ì·¨í–¥ì„ ê°€ì§„ ì‘ì€ ì§‘í•©ì„ ë°œê²¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤. <br>
ê·¸ê²ƒì€ ì‚¬ëŒë“¤ì´ ì¢‹ì•„í•  ë§Œí•œ ì—¬ëŸ¬ ê²ƒë“¤ì„ ë³´ê³  ê²°í•©í•˜ì—¬ ì¶”ì²œ ëª©ë¡ì„ ìƒì„±í•œë‹¤. <br>
ì–´ë–¤ ì‚¬ëŒë“¤ì´ ìœ ì‚¬í•œì§€ ê²°ì •í•˜ê±°ë‚˜ ê·¸ë“¤ì˜ ì„ íƒì„ ê²°í•©í•˜ì—¬ ëª©ë¡ì„ ë§Œë“œëŠ” ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ì´ ìˆëŠ”ë° ì´ ì¥ì—ì„œëŠ” ëª‡ëª‡ ê°€ì§€ ë°©ë²•ë§Œ ì†Œê°œ 

#2. ì„ í˜¸ì •ë³´ ìˆ˜ì§‘

ì„ í˜¸ ì •ë³´ë¥¼ ìˆ˜ì§‘ ìœ„ì™€ ê°™ì´ ìë£Œí˜•ì— ë°ì´í„°ë¥¼ ì¶”ê°€ í•œë‹¤. 


    critics={'Lisa Rose': {'Lady in the Water': 2.5, 'Snakes on a Plane': 3.5,
     'Just My Luck': 3.0, 'Superman Returns': 3.5, 'You, Me and Dupree': 2.5, 
     'The Night Listener': 3.0},
    'Gene Seymour': {'Lady in the Water': 3.0, 'Snakes on a Plane': 3.5, 
     'Just My Luck': 1.5, 'Superman Returns': 5.0, 'The Night Listener': 3.0, 
     'You, Me and Dupree': 3.5}, 
    'Michael Phillips': {'Lady in the Water': 2.5, 'Snakes on a Plane': 3.0,
     'Superman Returns': 3.5, 'The Night Listener': 4.0},
    'Claudia Puig': {'Snakes on a Plane': 3.5, 'Just My Luck': 3.0,
     'The Night Listener': 4.5, 'Superman Returns': 4.0, 
     'You, Me and Dupree': 2.5},
    'Mick LaSalle': {'Lady in the Water': 3.0, 'Snakes on a Plane': 4.0, 
     'Just My Luck': 2.0, 'Superman Returns': 3.0, 'The Night Listener': 3.0,
     'You, Me and Dupree': 2.0}, 
    'Jack Matthews': {'Lady in the Water': 3.0, 'Snakes on a Plane': 4.0,
     'The Night Listener': 3.0, 'Superman Returns': 5.0, 'You, Me and Dupree': 3.5},
    'Toby': {'Snakes on a Plane':4.5,'You, Me and Dupree':1.0,'Superman Returns':4.0}}

criticsë¼ëŠ” ë”•ì…˜ì–´ë¦¬í˜• ìë£Œí˜•ì— ì˜í™”ì— ëŒ€í•œ ì •ë³´ë¥¼ ì…ë ¥í•œë‹¤.<br>
ì´ì™€ ê°™ì€ ì •ë³´ëŠ” ëª©ì ì— ë”°ë¼ ë‹¤ë¥¸ ì„ í˜¸ë„ ê°’ì„ ê°€ì§„ë‹¤. <br>
ê³µì—° í‹°ì¼“ì˜ ê²½ìš° êµ¬ë§¤ : 1, ë¹„ êµ¬ë§¤ : 0 <br>
ì˜¨ë¼ì¸ ì‡¼í•‘ëª°ì˜ ê²½ìš° êµ¬ë§¤ : 2 , ì°¾ìŒ : 1 , ë¹„êµ¬ë§¤ <br>
ì‚¬ì´íŠ¸ ì¶”ì²œì˜ ê²½ìš° ì¢‹ìŒ : 1 , ëª¨ë¦„ : 0 , ì‹«ìŒ -1<br>
ê³¼ ê°™ì€ ê¸°ì¤€ìœ¼ë¡œ ì„ í˜¸ë„ë¥¼ í‘œì‹œ í•œë‹¤. 

<img src=./img/prefer_table.png>

critics ë”•ì…˜ì–´ë¦¬ì— ê°’ì´ ì œëŒ€ë¡œ ìˆëŠ”ì§€ í™•ì¸


    critics['Lisa Rose']['Lady in the Water']




    2.5




    critics['Toby']['Snakes on a Plane']=4.5
    critics['Toby']




    {'Snakes on a Plane': 4.5, 'Superman Returns': 4.0, 'You, Me and Dupree': 1.0}



#3. ìœ ì‚¬ ì‚¬ìš©ì ì°¾ê¸°

ì‚¬ëŒë“¤ì´ ì„ í˜¸í•˜ëŠ” ì •ë³´ë¥¼ ìˆ˜ì§‘ í–ˆë‹¤ë©´<br>
ë‹¤ìŒ ë‹¨ê³„ëŠ” ìœ ì‚¬í•œ ì‚¬ìš©ìë¥¼ ì°¾ëŠ”ê²ƒì´ë‹¤.<br>
ìœ ì‚¬í•œ ì‚¬ìš©ìë¥¼ ì°¾ëŠ” ë°©ë²•ì€ <br>
ìœ í´ë¦¬ë””ì•ˆ ê±°ë¦¬ ì ìˆ˜ì™€ í”¼ì–´ìŠ¨ ìƒê´€ ì ìˆ˜ê°€ ìˆë‹¤. 

## ìœ í´ë¦¬ë””ì•ˆ ê±°ë¦¬ ì ìˆ˜

<img src=./img/eucdlian-distance.png>

ì‚¬ëŒë“¤ ê°„ì˜ ì„ í˜¸ ê³µê°„

snakes, dupreeë¼ëŠ” ë‘ê°œì˜ ì¶•ì„ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ëŒì„ ë°°ì—´(ì„ í˜¸ê³µê°„)

TobbyëŠ” Snakedsì˜í™” ì¶•ì—ì„œ 4.5ì <br>
Dupree ì˜í™”ì¶•ì—ì„œ 1.0ì— ìœ„ì¹˜

ì„ í˜¸ ê³µê°„ì—ì„œ ë‘ ì‚¬ëŒê°„ì˜ ìœ„ì¹˜ê°€ ê°€ê¹Œìš¸ ìˆ˜ë¡ ê·¸ë“¤ ê°„ì˜ ì„ í˜¸ë„ê°€ ë” ìœ ì‚¬í•¨ì„ ì˜ë¯¸.<br>
ì´ ì°¨íŠ¸ëŠ” 2ì°¨ì› ì´ê¸° ë•Œë¬¸ì— ë™ì‹œì— ë‘ê°œì˜ ìˆœìœ„ë§Œ ë³¼ ìˆ˜ ìˆë‹¤.<br> 
ìœ„ì˜ ì˜ˆì œëŠ” 2ì°¨ì› ë°ì´íƒ€ì´ê¸° ë•Œë¬¸ì— 2ì°¨ì› ë°ì´í„°ë¡œë§Œ í‘œì‹œ, ì‹¤ ë°ì´íƒ€ëŠ” ë‹¤ì°¨ì› ë°ì´í„°ë¡œ í‘œì‹œ

###ìœ í´ë¦¬ë””ì•ˆ ê±°ë¦¬ ì ìˆ˜

<img src=./img/euclidean-distance-score.png>

python code


    from math import sqrt
    sqrt(pow(5-4,2) + pow(2-1,2))




    1.4142135623730951



ìœ„ ê³µì‹ìœ¼ë¡œ ê±°ë¦¬ ê³„ì‚°í•˜ë©´ ìœ ì‚¬í•œ ì‚¬ëŒì¼ìˆ˜ë¡ ì‘ì€ ê°’ì„ ê°€ì§„ë‹¤.<br>
í•˜ì§€ë§Œ ì‚¬ëŒ ê°„ì— ìœ ì‚¬í• ìˆ˜ë¡ ë” ë†’ì€ ê°’ì„ ì£¼ëŠ” í•¨ìˆ˜ê°€ ë” ì¢‹ë‹¤. <br>
ê·¸ë ‡ê²Œ í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ í•¨ìˆ˜ì— 1ì„ ë” í•˜ê³  ì—­ì„ ìœ„í•˜ë©´ ë” ì¢‹ì€ ì ìˆ˜ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.

<img src=./img/ext-euc.png>

ì¢€ ë” íš¨ìœ¨ì ì¸ ìœ í´ë¦¬ë””ì•ˆ ì ìˆ˜ 


    from math import sqrt
    1/(1+sqrt(pow(5-4,2) + pow(2-1,2)))




    0.4142135623730951




    1/ (1 + 1.4142)




    0.4142158893215144



ì´ í•¨ìˆ˜ì˜ ì¥ì ì€ ë‘ ì‚¬ìš©ìê°„ì˜ ê±°ë¦¬ê°€ 0~1ë¡œ í‘œì‹œ ê°€ëŠ¥<br>
ê°€ì¥ ë©€ë¦¬ ë–¨ì–´ì§„ ë‘ ì‚¬ìš©ìê°„ì˜ ê±°ë¦¬ : 0 <br>
ê°€ì¥ ê°€ê¹Œìš´ ë‘ ì‚¬ìš©ìì˜ ê±°ë¦¬ : 1


    from math import sqrt
    
    # Returns a distance-based similarity score for person1 and person2
    def sim_distance(prefs,person1,person2):
      # ê³µí†µí•­ëª© ì¶”ì¶œ
      si={}
      for item in prefs[person1]: 
        if item in prefs[person2]: si[item]=1
    
      # ê³µí†µ í‰ê°€ í•­ëª©ì´ ì—†ì„ ê²½ìš° 0
      if len(si)==0: return 0
    
      # ëª¨ë“  ì°¨ì´ì˜ ê°’ì„ ì œê³±í•˜ì—¬ ë”í•¨
      sum_of_squares=sum([pow(prefs[person1][item]-prefs[person2][item],2) 
                          for item in prefs[person1] if item in prefs[person2]])
    
      return 1/(1+sum_of_squares)

ì´ì œ ì‹¤ì œ ë°ì´íƒ€ë¥¼ ì ìš©


    sim_distance(critics, 'Lisa Rose', 'Gene Seymour')




    0.14814814814814814



ìœ„ ê²°ê³¼ëŠ” "Lisa Rose"ì™€ "Gene Seymour" ë‘ ì‚¬ëŒê°„ì˜ ìœ ì‚¬ë„ 

###í”¼ì–´ìŠ¨ ìƒê´€ì ìˆ˜

ìƒê´€ë¶„ì„(Correlation Analysis)ì€ í™•ë¥ ë¡ ê³¼ í†µê³„í•™ì—ì„œ ë‘ ë³€ìˆ˜ê°„ì— ì–´ë–¤ ì„ í˜•ì  ê´€ê³„ë¥¼ ê°–ê³  ìˆëŠ” ì§€ë¥¼ ë¶„ì„í•˜ëŠ” ë°©ë²•ì´ë‹¤. ë‘ë³€ìˆ˜ëŠ” ì„œë¡œ ë…ë¦½ì ì¸ ê´€ê³„ë¡œë¶€í„° ì„œë¡œ ìƒê´€ëœ ê´€ê³„ì¼ ìˆ˜ ìˆìœ¼ë©° ì´ë•Œ ë‘ ë³€ìˆ˜ê°„ì˜ ê´€ê³„ì˜ ê°•ë„ë¥¼ ìƒê´€ê´€ê³„(Correlation, Correlation coefficient)ë¼ í•œë‹¤. ìƒê´€ë¶„ì„ì—ì„œëŠ” ìƒê´€ê´€ê³„ì˜ ì •ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë‹¨ìœ„ë¡œ ëª¨ìƒê´€ê³„ìˆ˜ Ïë¥¼ ì‚¬ìš©í•œë‹¤.

ì´ ë°©ë²•ì„ ì‹œê°í™”í•˜ê¸° ìœ„í•´ ì°¨íŠ¸ì— ë‘ ëª…ì˜ í‰ë¡ ê°€ì˜ í‰ê°€ ê²°ê³¼ë¥¼ ì¶œë ¥

<img src=./img/p-score.png width=600>

ì‚°í¬ë„ë¡œ ë‘ ì˜í™” í‰ë¡ ê°€ë¥¼ ë¹„êµí•˜ê¸°

ì´ ì°¨íŠ¸ì—ì„œ í•œê°œì˜ ì§ì„ ì´ í‘œì‹œë˜ì–´ ìˆë‹¤. <br>
ì´ ì§ì„ ì„ ìµœì  ë§ì¶¤ì„ (best-fit line)ì´ë¼ê³  ë¶€ë¥´ëŠ”ë°, ì´ëŠ” ì°¨íŠ¸ ë‚´ ëª¨ë“  í•­ëª©ê¸€ê³¼ ê°€ëŠ¥í•œ ê°€ì¥ ê°€ê¹Œìš´ ì§ì„ ì„ì„ ì˜ë¯¸<br>
ëª¨ë“  í‰ë¡ ê°€ê°€ ëª¨ë“  ê²½í™”ë¥¼ ë™ì¼í•˜ê²Œ í‰ê°€í–ˆë‹¤ë©´ ì´ ì„ ì€ ëŒ€ê°ì„ ì´ ë ê²ƒì´ê³  ì´ ì„  ìœ„ì— ëª¨ë“  í•­ëª© ë“¤ì´ ìˆê²Œ ëœë‹¤. <br>
ì´ ê²½ìš° ì™„ì „ ìƒê´€ì ìˆ˜ì¸ 1 ê°’ì´ëœë‹¤. <br>
ìœ„ ë„í‘œì—ì„œ ëª‡ëª‡ ì˜í™”ì˜ ê²½ìš° í‰ê°€ì ìˆ˜ê°€ ë‹¬ë¼ ìƒê´€ì ìˆ˜ê°€ 0.4 ì¯¤ ëœë‹¤.

<img src=./img/p-score1.png width=600>

í”¼ì–´ìŠ¨ ì ìˆ˜ëŠ” ì ìˆ˜ ë¶€í’€ë¦¬ì‹œ(grade inflation)ë€ í¥ë¯¸ë¡œìš´ íŠ¹ì„±ì´ ìˆë‹¤. <br>
ê·¸ë¦¼ì—ì„œ ì­ ë§¤íŠœê°€ ë¦¬ì‚¬ ë¡œìŠ¤ë³´ë‹¤ í›„í•œ ì ìˆ˜ë¥¼ ì£¼ì–´ë‹¤.<br>
ê·¸ë˜ë„ ë‘ ì‚¬ëŒì´ ìƒëŒ€ì ìœ¼ë¡œ ìœ ì‚¬í•œ ì„ í˜¸ë„ë¥¼ ê°€ì¡Œê¸° ë•Œë¬¸ì— í•œ ì§ì„ ìœ¼ë¡œ ì˜ í‘œí˜„ë˜ì–´ ìˆë‹¤. 

í”¼ì–´ìŠ¨ ìƒê´€ê´€ê³„ ì ìˆ˜ ê³„ì‚° python code


    def sim_pearson(prefs,p1,p2):
      # Get the list of mutually rated items
      si={}
      for item in prefs[p1]: 
        if item in prefs[p2]: si[item]=1
    
      # if they are no ratings in common, return 0
      if len(si)==0: return 0
    
      # Sum calculations
      n=len(si)
      
      # Sums of all the preferences
      sum1=sum([prefs[p1][it] for it in si])
      sum2=sum([prefs[p2][it] for it in si])
      
      # Sums of the squares
      sum1Sq=sum([pow(prefs[p1][it],2) for it in si])
      sum2Sq=sum([pow(prefs[p2][it],2) for it in si])	
      
      # Sum of the products
      pSum=sum([prefs[p1][it]*prefs[p2][it] for it in si])
      
      # Calculate r (Pearson score)
      num=pSum-(sum1*sum2/n)
      den=sqrt((sum1Sq-pow(sum1,2)/n)*(sum2Sq-pow(sum2,2)/n))
      if den==0: return 0
    
      r=num/den
    
      return r

ì´ í•¨ìˆ˜ëŠ” -1~1 ì‚¬ì´ì˜ ê°’ì„ ë¦¬í„´í•œë‹¤. 1ì€ ë‘ ì‚¬ëŒì˜ ìƒê´€ ê³„ìˆ˜ê°€ ëª¨ë“œë‚­ëª©ì—ì„œ ê°™ì€ ì ìˆ˜ë¥¼ ì£¼ì–´ì¡Œì„ë•Œ ì ìˆ˜ì´ë‹¤.<br>
ë‹¤ìŒê³¼ ê°™ì´ ìƒê´€ ê´€ê³„ ì ìˆ˜ë¥¼ ê³„ì‚°í•˜ë©´


    print sim_pearson(critics, 'Lisa Rose', 'Gene Seymour')

    0.396059017191


###ìœ ì‚¬ë„ ì¸¡ì • ì§€í‘œ ì„ íƒ ë°©ë²•

ìœ ì‚¬ë„ ì¸¡ì • ì§€í‘œ ì„ íƒ ë°©ë²•ì€ ìœ í´ë¦¬ë””ì•ˆê±°ë¦¬ ê³„ì‚°ë²•, í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜ ì™¸ ë‹¤ë¥¸ ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.<br>
ìì¹´ë“œ ìƒê´€ê³„ìˆ˜[http://socurites.com/144]<br>
ë§¨í•˜íŠ¼ ê±°ë¦¬ [http://www.nicklib.com/algorithm/1697]<br>

###í‰ë¡ ê°€ ìˆœìœ„

ë‘ ì‚¬ëŒì„ ë¹„êµí•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆìœ¼ë¯€ë¡œ, ì£¼ì–´ì§„ ì‚¬ëŒì„ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ë¥¸ ëª¨ë“  ì‚¬ëŒë“¤ê³¼ì˜ ì ìˆ˜ë¥¼ ê³„ì‚°í•˜ì—¬ ê°€ì¥ ê·¼ì ‘í•œ ìƒëŒ€í¸ì„ ì°¾ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ìˆ˜ ìˆë‹¤. <br>
ì´ ê²½ìš° ë‚˜ì™€ ìœ ì‚¬í•œ ì„±í–¥ì„ ê°€ì§„ ì˜í™” í‰ë¡ ê°€ë¥¼ ì°¾ì•„ ì˜í™”ë¥¼ ê³ ë¥¼ë•Œ ì–´ëŠ í‰ë¡ ê°€ì˜ ì˜ê²¬ì„ ë¯¿ì„ì§€ íŒë‹¨ í•˜ë©´ ì¬ë¯¸ ìˆì„ ê²ƒì´ë‹¤. 


    #ì„ í˜¸ë„ ë”•ì…”ë„ˆë¦¬ì—ì„œ ìµœì ì˜ ìƒëŒ€í¸ì„ êµ¬í•¨
    #ê²°ê³¼ ê°œìˆ˜ì™€ ìœ ì‚¬ë„ í•¨ìˆ˜ëŠ” ì˜µì…˜ ì‚¬í•­
    def topMatches(prefs, person, n=5, similarity=sim_pearson):
        scores = [(similarity(prefs, person, other), other)
                 for other in prefs if other != person ]
        
        #ìµœê³ ì ì´ ìƒë‹¨ì— ì˜¤ë„ë¡ ëª©ì ì„ ì •ë ¬
        scores.sort()
        scores.reverse()
        return scores[0:n]

ìœ„ì˜ ì½”ë“œë¥¼ ì´ìš©í•˜ì—¬ íŠ¹ì • ì´ìš©ìì™€ ê°€ì¥ ê°€ê¹Œìš´ í‰ë¡ ê°€ë¥¼ ì°¾ì•„ ë³´ì


    topMatches(critics, 'Toby', n=3)




    [(0.9912407071619299, 'Lisa Rose'),
     (0.9244734516419049, 'Mick LaSalle'),
     (0.8934051474415647, 'Claudia Puig')]



'Toby'ì™€ ê°€ì¥ ìœ ì‚¬í•œ í‰ë¡ ê°€ê°€ ê²€ì¶œëœ ê²°ê³¼ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. <br>
 similarityì¸ìë¥¼ ë°”ê¾¸ë©´ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ìœ ì‚¬í•œ ì‚¬ìš©ìë¥¼ ì¶”ì²œ ë°›ì„ ìˆ˜ ìˆë‹¤.

#4. í•­ëª© ì¶”ì²œ

ì½ì–´ ë³¼ë§Œí•œ ê°€ì¹˜ ìˆëŠ” í‰ë¡ ê°€ë¥¼ ì°¾ëŠ” ê²ƒë„ ì¤‘ìš”í•˜ì§€ë§Œ, ì •ë§ í•„ìš”í•œê±´ ì˜í™” ì¶”ì²œì´ë‹¤. <br>
ë‚˜ì™€ ê°€ì¥ ìœ ì‚¬í•œ ì·¨í–¥ì„ ê°€ì§„ ì‚¬ëŒì„ ì°¾ì•„ ê·¸ê°€ì¢‹ì•„í•˜ì§€ë§Œ ë‚´ê°€ ì•ˆ ë³¸ ì˜í™”ë¥¼ ì°¾ì„ ìˆ˜ë„ ìˆë‹¤. <br>
ê·¸ëŸ¬ë‚˜ ì´ê±´ ë„ˆë¬´ ê´€ëŒ€í•œ íŒë‹¨ì´ë‹¤.  <br>
í‰ë¡ ê°€ ìˆœìœ„ë¥¼ ê²°ì •í•˜ëŠ” ê°€ì¤‘ì ìˆ˜ë¥¼ ë§Œë“¤ì–´ í•­ëª©ì ìˆ˜ë¥¼ ë§Œë“¤ì–´ í•­ëª©ì ìˆ˜ë¥¼ ê³„ì‚°í•´ì•¼ í•œë‹¤. <br>
ëª¨ë“  ë‹¤ë¥¸ í‰ë¡ ê°€ë“¤ì˜ í‰ê°€ë¥¼ ê³„ì‚°í•œí›„ ë‚˜ì™€ì˜ ìœ ì‚¬ë„ë¥¼ ê·¸ë“¤ì´ ê° ì˜í™”ì— ì¤€ ì ìˆ˜ì™€ ê³±í•œë‹¤.<br>
ë‹¤ìŒ í‘œì™€ ê°™ì´ ìˆ˜í–‰

<img src=./img/table2-2.png width=600>

ìœ„ í‘œëŠ” ê° í‰ë¡ ê°€ì™€ì˜ ìƒê´€ì ìˆ˜ì™€ ë‚´ê°€ í‰ê°€í•˜ì§€ ì•Šì€ ì„¸ ì˜í™”(bight, lady, luck)ì— ëŒ€í•œ í‰ë¡ ê°€ë“¤ì˜ í‰ê°€ ì ìˆ˜ë¥¼ í‘œì‹œí•œë‹¤.<br>
S.xë¡œ ì‹œì‘í•˜ëŠ” ì„¸ë¡œì¤„ì€ ìœ ì‚¬ë„ë¥¼ í‰ê°€ì ìˆ˜ë¡œ ê³±í•œ ê°’<br>
ë‚˜ì™€ ìœ ì‚¬í•œ í‰ë¡ ê°€ë“¤ì˜ í‰ê°€ê°€ ë‚˜ì™€ëŠ” ë‹¤ë¥¸ í‰ë¡ ê°€ë“¤ì˜ í‰ê°€ë³´ë‹¤ ì „ì²´ ì ìˆ˜ì— ë” í° ê¸°ì—¬<br>


ë§ì€ í‰ë¡ ê°€ê°€ í‰ê°€í•œ ì˜í™”ê°€ ì´ë“ì„ ì–»ì„ìˆ˜ ìˆë‹¤. <br>
ì´ë¥¼ ë³´ì •í•˜ê¸° ìœ„í•´ í‰ë¡ ì˜ ì´í•©ì—ì„œ í‰ë¡ í•œ ì‚¬ëŒì˜ ìˆ˜ë¥¼ ë‚˜ëˆ„ì–´ì„œ ì ìˆ˜ë¥¼ ë³´ì • -> ë§ˆì§€ë§‰ ê°€ë¡œì¤„<br>



    # Gets recommendations for a person by using a weighted average
    # of every other user's rankings
    # ë‹¤ë¥¸ ì‚¬ëŒê³¼ì˜ ìˆœìœ„ì˜ ê°€ì¤‘í‰ê· ê°’ì„ ì´ìš©í•´ì„œ íŠ¹ì • ì‚¬ëŒì— ì¶”ì²œ
    def getRecommendations(prefs,person,similarity=sim_pearson):
      totals={}
      simSums={}
      for other in prefs:
        # don't compare me to myself
        #ìì‹ ê³¼ëŠ” ë¹„êµ í•˜ì§€ ì•ŠëŠ”ë‹¤. 
        if other==person: continue
        sim=similarity(prefs,person,other)
    
        # ignore scores of zero or lower
        # 0ë˜ëŠ” 0ë³´ë‹¤ ì‘ì€ ê°’ì€ ë¹„êµí•˜ì§€ ì•ŠëŠ”ë‹¤.
        if sim<=0: continue
        for item in prefs[other]:
          # only score movies I haven't seen yet
          # ë‚´ê°€ ë³´ì§€ ëª»í•œ ì˜í™”ë§Œì„ ëŒ€ìƒìœ¼ë¡œ í•œë‹¤.
          if item not in prefs[person] or prefs[person][item]==0:
            # Similarity * Score
            # ìœ ì‚¬ë„ì™€ ì ìˆ˜ë¥¼ ê³±
            totals.setdefault(item,0)
            totals[item]+=prefs[other][item]*sim
            # Sum of similarities
            # ìœ ì‚¬ë„ í•©
            simSums.setdefault(item,0)
            simSums[item]+=sim
    
      # Create the normalized list
      # ê²°ê³¼ë¥¼ ì •ê·œí™”(ë…¸ë§ë¼ì´ì¦ˆ)
      rankings=[(total/simSums[item],item) for item,total in totals.items()]
    
      # Return the sorted list
      rankings.sort()
      rankings.reverse()
      return rankings

critics ìë£Œë¥¼ í†µí•´ Tobyì—ê²Œ ì¶”ì²œí•  ì˜í™”(í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜ë¥¼ ì´ìš©í• ë•Œ)


    getRecommendations(critics, 'Toby')




    [(3.3477895267131013, 'The Night Listener'),
     (2.8325499182641614, 'Lady in the Water'),
     (2.5309807037655645, 'Just My Luck')]



critics ìë£Œë¥¼ í†µí•´ Tobyì—ê²Œ ì¶”ì² í•œ ì˜í™”(ìœ í´ë¦¬ë””ì•ˆ ìœ ì‚¬ë„ í‰ê°€ ê¸°ì¤€)


    getRecommendations(critics, 'Toby', similarity=sim_distance)




    [(3.5002478401415877, 'The Night Listener'),
     (2.7561242939959363, 'Lady in the Water'),
     (2.461988486074374, 'Just My Luck')]



ìœ ì‚¬ë„ë¥¼ í‰ê°€í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ ì´ìš©í•˜ë©´ ê°™ì€ ë°ì´í„°ì—ë„ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.

#5. í•­ëª© ë§¤ì¹­

í•œ ì œí’ˆê³¼ ë‹¤ë¥¸ ì œí’ˆì´ ì–¼ë§ˆë‚˜ ìœ ì‚¬í•œì§€ë¥¼ ì°¾ëŠ” ë°©ë²•ì„ ê¸°ìˆ 

<img src=./img/figure2-4.png width=600>

ìœ„ ê·¸ë¦¼ì€ ì•„ë§ˆì¡´ì—ì„œ "íŒŒì´ì„  í”„ë¡œê·¸ë˜ë°"ê³¼ ìœ ì‚¬í•œ ì œí’ˆì„ í‘œì‹œ

ë°ì´í„°ì˜ ë³€í™˜ í•„ìš”

<img src=./img/human-base.png>

<img src=./img/item-base.png>

í‰ë¡ ê°€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ êµ¬ì„±ëœ ë”•ì…˜ì–´ë¦¬ë¥¼ ì˜í™”ë¥¼ ê¸°ì¤€ìœ¼ë¡œ êµ¬ì„±ëœ ë”•ì…˜ì–´ë¦¬ë¡œ ë³€í™˜<br>
python ì½”ë“œë¥¼ í†µí•´ ê°„ë‹¨íˆ êµ¬í˜„


    def transformPrefs(prefs):
      result={}
      for person in prefs:
        for item in prefs[person]:
          result.setdefault(item,{})
          
          # Flip item and person
          # ì˜í™”ì™€ í‰ë¡ ê°€ì˜ ìœ„ì¹˜ë¥¼ ë°”ê¿ˆ
          result[item][person]=prefs[person][item]
      return result

ìŠˆí¼ë§¨ ë¦¬í„´ì¦ˆì™€ ìœ ì‚¬í•œ ì˜í™”ë¥¼ ì¡°íšŒí•œ ê²°ê³¼


    movies = transformPrefs(critics)
    topMatches(movies, 'Superman Returns')




    [(0.6579516949597695, 'You, Me and Dupree'),
     (0.4879500364742689, 'Lady in the Water'),
     (0.11180339887498941, 'Snakes on a Plane'),
     (-0.1798471947990544, 'The Night Listener'),
     (-0.42289003161103106, 'Just My Luck')]



ìŒì˜ ìƒê´€ ê´€ê³„ëŠ” ì¢‹ì•„í•˜ì§€ ì•ŠëŠ”ë‹¤ë¼ê³  í•´ì„ê°€ëŠ¥

<img src=./img/figure2-5.png width=600>

íŠ¹ì • ì˜í™”ë¥¼ ì¶”ì²œí•˜ëŠ” í‰ë¡ ê°€ë¥¼ ì¶”ì¶œí•  ìˆ˜ ë„ ìˆë‹¤.


    getRecommendations(movies, 'Just My Luck')




    [(4.0, 'Michael Phillips'), (3.0, 'Jack Matthews')]



#6. ë”œë¦¬ì…”ìŠ¤ ë§í¬ ì¶”ì²œ ê¸°ëŠ¥ ë§Œë“¤ê¸°

ì˜¨ë¼ì¸ ë¶ë§ˆí¬ ì‚¬ì´íŠ¸ì¸ ë”œë¦¬ì…”ìŠ¤ì˜ ë°ì´í„°ë¥¼ ì´ìš©í•˜ì—¬ ì¶”ì²œ ê¸°ëŠ¥ì„ ë§Œë“ ë‹¤.

ì„¤ì¹˜í•´ì•¼í•  ë¼ì´ë¸ŒëŸ¬ë¦¬ : <br>
pydelicious : !easy_install pydelicious<br>
feedparser : !pip install feedparser


    !pip install feedparser
    !pip install --upgrade feedparser 

    Requirement already satisfied (use --upgrade to upgrade): feedparser in /usr/local/lib/python2.7/site-packages/feedparser-5.2.0-py2.7.egg
    /usr/local/lib/python2.7/site-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:79: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.
      InsecurePlatformWarning
    Collecting feedparser
      Downloading feedparser-5.2.0.post1.tar.bz2 (192kB)
    [K    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 192kB 649kB/s 
    [?25hInstalling collected packages: feedparser
      Found existing installation: feedparser 5.2.0
        Uninstalling feedparser-5.2.0:
          Successfully uninstalled feedparser-5.2.0
      Running setup.py install for feedparser
    Successfully installed feedparser


<img src=./img/figure2-6.png width=600>


    from pydelicious import DeliciousAPI
    pydelicious.get_popular(tag='programming')




    [{'count': '',
      'description': u'something went wrong',
      'dt': '',
      'extended': '',
      'hash': '',
      'href': '',
      'tags': '',
      'user': ''}]



APIì˜¤ë¥˜ ìƒëµ [http://stackoverflow.com/questions/29543799/pydelicious-get-popularprogramming-doesnt-return-any-valid-url]

#7. í•­ëª© ê¸°ë°˜ í•„í„°ë§

##ì‚¬ìš©ì ê¸°ë°˜ì˜ í˜‘ë ¥ í•„í„°ë§ : <BR>
ìˆ˜ ë§ì€ ì‚¬ëŒë“¤ì˜ í‰ê°€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì²˜ë¦¬.<BR>
ë§ì€ ì‚¬ìš©ìê°€ ìˆì„ë•Œ ìœ ë¦¬.<BR>
ì‚¬ìš©ìë¥¼ ê·¸ë£¹í™” í•˜ëŠ” ì‘ì—…ì— ì˜¤ëœ ì‹œê°„ ì†Œìš” <BR>
ìˆ˜ë§ì€ ì œí’ˆìœ¼ë¡œ ì¸í•´ ì‚¬ìš©ìê°„ì˜ êµ¬ì…ì´ë ¥ì´ ê²¹ì¹˜ì§€ ì•Šì„ë•Œ ë¶ˆë¦¬<BR>

##í•­ëª© ê¸°ë°˜ í˜‘ë ¥ í•„í„°ë§ :<BR>
í•­ëª© ë³„ë¡œ ìœ ì‚¬í•œ í•­ëª©ì„ ë¯¸ë¦¬ ê³„ì‚°<BR>
ì‚¬ìš©ìì—ê²Œ ì¶”ì²œ í• ë•Œ ì‚¬ìš©ìê°€ í‰ê°€í•œ ìƒìœ„ í•­ëª©ì„ ë³´ê³  ì´ê²ƒê³¼ ê°€ì¥ ìœ ì‚¬í•œ í•­ëª©ë“¤ì˜ ê°€ì¤‘ì¹˜ ëª©ë¡ ìƒì„±<br>
ì¥ì  : í•­ëª©ì€ ì‚¬ëŒì— ë¹„í•´ ìì£¼ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤.

##í•­ëª© ë¹„êµ ë°ì´í„° ì„¸íŠ¸ ìƒì„±

í•­ëª©ê°„ì˜ ë¹„êµë¥¼ ìœ„í•´ ë¨¼ì € ìœ ì‚¬ í•­ëª©ë“¤ì„ ë‹´ì€ ì™„ì „í•œ ë°ì´í„° ì„¸íŠ¸ë¥¼ ìƒì„±

ìœ ì‚¬ í•­ëª©ì„ êµ¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜


    def calculateSimilarItems(prefs,n=10):
      # Create a dictionary of items showing which other items they
      # are most similar to.
      result={}
      # Invert the preference matrix to be item-centric
      itemPrefs=transformPrefs(prefs)
      c=0
      for item in itemPrefs:
        # Status updates for large datasets
        c+=1
        if c%100==0: print "%d / %d" % (c,len(itemPrefs))
        # Find the most similar items to this one
        scores=topMatches(itemPrefs,item,n=n,similarity=sim_distance)
        result[item]=scores
      return result

ìœ ì‚¬ë„ ë°ì´í„°ì…‹ í™•ì¸


    itemsim = calculateSimilarItems(critics)
    itemsim




    {'Just My Luck': [(0.2222222222222222, 'Lady in the Water'),
      (0.18181818181818182, 'You, Me and Dupree'),
      (0.15384615384615385, 'The Night Listener'),
      (0.10526315789473684, 'Snakes on a Plane'),
      (0.06451612903225806, 'Superman Returns')],
     'Lady in the Water': [(0.4, 'You, Me and Dupree'),
      (0.2857142857142857, 'The Night Listener'),
      (0.2222222222222222, 'Snakes on a Plane'),
      (0.2222222222222222, 'Just My Luck'),
      (0.09090909090909091, 'Superman Returns')],
     'Snakes on a Plane': [(0.2222222222222222, 'Lady in the Water'),
      (0.18181818181818182, 'The Night Listener'),
      (0.16666666666666666, 'Superman Returns'),
      (0.10526315789473684, 'Just My Luck'),
      (0.05128205128205128, 'You, Me and Dupree')],
     'Superman Returns': [(0.16666666666666666, 'Snakes on a Plane'),
      (0.10256410256410256, 'The Night Listener'),
      (0.09090909090909091, 'Lady in the Water'),
      (0.06451612903225806, 'Just My Luck'),
      (0.05333333333333334, 'You, Me and Dupree')],
     'The Night Listener': [(0.2857142857142857, 'Lady in the Water'),
      (0.18181818181818182, 'Snakes on a Plane'),
      (0.15384615384615385, 'Just My Luck'),
      (0.14814814814814814, 'You, Me and Dupree'),
      (0.10256410256410256, 'Superman Returns')],
     'You, Me and Dupree': [(0.4, 'Lady in the Water'),
      (0.18181818181818182, 'Just My Luck'),
      (0.14814814814814814, 'The Night Listener'),
      (0.05333333333333334, 'Superman Returns'),
      (0.05128205128205128, 'Snakes on a Plane')]}



í•­ëª© ìœ ì‚¬ë„ë¥¼ ìµœì‹ ìœ¼ë¡œ ìœ ì§€í•˜ê¸° ì¶©ë¶„í•  ì •ë„ë¡œë§Œ ìˆ˜í–‰.<br>
ì‚¬ìš©ìì™€ í‰ê°€ ìˆ˜ê°€ ì‘ì„ ë•Œ ì¢€ ë” ìì£¼ ëŒë ¤ì•¼ í•¨ : ì•ˆì •í™”ê°€ ëœ ë˜ì—ˆê¸° ë•Œë¬¸ <br>
ì‚¬ìš©ìì™€ í‰ê°€ ìˆ˜ê°€ ì ì  ë§ì•„ì§ˆìˆ˜ë¡ í•­ëª©ë“¤ê°„ì˜ ìœ ì‚¬ë„ ì ìˆ˜ëŠ” ì•ˆì •í™” ë˜ì–´ ê°„ë‹¤.

##ì¶”ì²œ ìƒì„±

<img src=./img/table2-3.png width=600>

í•­ëª© ê¸°ë°˜ ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ì¶”ì²œ í•­ëª©ì„ ë°œê²¬ê¸° ìœ„í•œ í…Œì´ë¸”<br>
ì´ì „ì˜ í‘œì™€ëŠ” ë‹¬ë¦¬ í‰ë¡ ê°€ê°€ ì „í˜€ í¬í•¨ë˜ì–´ ìˆì§€ ì•Šê³  ë‚´ê°€ í‰ê°€í•œ ì˜í™”ì™€ ë‚´ê°€ í‰ê°€í•˜ì§€ ì•Šì€ ì˜í™”ê°„ì˜ ë¹„êµë§Œ ìˆìŒ

Supermanì˜ í‰ê°€ê°€ 4ì ì´ê³  Nightì™€ Supermanì˜ ìœ ì‚¬ë„ê°€ 0.103ì´ê¸° ë•Œë¬¸ì— Nightì— ëŒ€í•œ í‰ê°€(R.xNight)ëŠ” 0.412ê°€ ëœë‹¤. <br>
Normalizedí•­ëª©ì€ Nightì— ëŒ€í•œ ê¸°ëŒ€ê°’(1.378)ì— Nightì˜ ìœ ì‚¬ë„ í•©ê³„(0.433)ì„ ë‚˜ëˆˆë‹¤.<br> 
Normalized Night(3.183) = 1.378/ 0.433

ë‹¤ìŒ ì½”ë“œì—ì„œ ìœ„ì™€ ê°™ì€ ì—­í• ì„ ìˆ˜í–‰


    def getRecommendedItems(prefs,itemMatch,user):
      userRatings=prefs[user]
      scores={}
      totalSim={}
      # Loop over items rated by this user
      for (item,rating) in userRatings.items( ):
    
        # Loop over items similar to this one
        for (similarity,item2) in itemMatch[item]:
    
          # Ignore if this user has already rated this item
          if item2 in userRatings: continue
          # Weighted sum of rating times similarity
          scores.setdefault(item2,0)
          scores[item2]+=similarity*rating
          # Sum of all the similarities
          totalSim.setdefault(item2,0)
          totalSim[item2]+=similarity
    
      # Divide each total score by total weighting to get an average
      rankings=[(score/totalSim[item],item) for item,score in scores.items( )]
    
      # Return the rankings from highest to lowest
      rankings.sort( )
      rankings.reverse( )
      return rankings


    getRecommendedItems(critics, itemsim, 'Toby')




    [(3.182634730538922, 'The Night Listener'),
     (2.5983318700614575, 'Just My Luck'),
     (2.4730878186968837, 'Lady in the Water')]



ì—¬ê¸°ì„œ ëª…ì‹¬í•  ì ì€ getRecommendedItemí•¨ìˆ˜ëŠ” í•­ëª© ìœ ì‚¬ë„ ë°ì´í„° ì„¸íŠ¸ê°€ ë¯¸ë¦¬ ì¤€ë¹„ë˜ì–´ ìˆì–´ ë‹¤ë¥¸ í‰ë¡ ê°€ë“¤ì˜ ìœ ì‚¬ë„ ì ìˆ˜ë¥¼ ê³„ì‚°í•˜ì§€ ì•ŠëŠ”ë‹¤.

# 8. ë¬´ë¹„ë Œì¦ˆ ë°ì´í„° ì„¸íŠ¸ ì´ìš©í•˜ê¸°

ë¬´ë¹„ë Œì¦ˆ ë‹¤ìš´ë¡œë“œ í•˜ê¸°[http://grouplens.org/datasets/movielens/]

u.item, u.data ë‘ íŒŒì¼ë§Œ ì´ìš©.

<img src=./img/movielens.png width=600>

ë¬´ë¹„ë Œì¦ˆ ë°ì´í„°ë¥¼ ì½ëŠ” ì½”ë“œ


    def loadMovieLens100k(path='./ml100k'):
      # Get movie titles
      movies={}
      for line in open(path+'/u.item'):
        (id,title)=line.split('|')[0:2]
        movies[id]=title
      
      # Load data
      prefs={}
      for line in open(path+'/u.data'):
        (user,movieid,rating,ts)=line.split('\t')
        prefs.setdefault(user,{})
        prefs[user][movies[movieid]]=float(rating)
      return prefs



    prefs = loadMovieLens100k()
    prefs['87']




    {'2001: A Space Odyssey (1968)': 5.0,
     'Ace Ventura: Pet Detective (1994)': 4.0,
     'Addams Family Values (1993)': 2.0,
     'Addicted to Love (1997)': 4.0,
     'Adventures of Priscilla, Queen of the Desert, The (1994)': 3.0,
     'Adventures of Robin Hood, The (1938)': 5.0,
     'Air Force One (1997)': 3.0,
     'Air Up There, The (1994)': 3.0,
     'Alien (1979)': 4.0,
     'American President, The (1995)': 5.0,
     'Annie Hall (1977)': 4.0,
     'Apocalypse Now (1979)': 4.0,
     'Babe (1995)': 5.0,
     'Baby-Sitters Club, The (1995)': 2.0,
     'Back to the Future (1985)': 5.0,
     'Bad Boys (1995)': 4.0,
     'Bananas (1971)': 5.0,
     'Barcelona (1994)': 3.0,
     'Batman & Robin (1997)': 4.0,
     'Batman (1989)': 3.0,
     'Batman Returns (1992)': 3.0,
     'Big Green, The (1995)': 3.0,
     'Big Squeeze, The (1996)': 2.0,
     'Birdcage, The (1996)': 4.0,
     'Blade Runner (1982)': 4.0,
     'Blues Brothers, The (1980)': 5.0,
     'Boomerang (1992)': 3.0,
     'Boot, Das (1981)': 4.0,
     'Brady Bunch Movie, The (1995)': 2.0,
     'Braveheart (1995)': 4.0,
     'Bridge on the River Kwai, The (1957)': 5.0,
     'Broken Arrow (1996)': 3.0,
     'Butch Cassidy and the Sundance Kid (1969)': 5.0,
     'Citizen Kane (1941)': 4.0,
     "City Slickers II: The Legend of Curly's Gold (1994)": 3.0,
     'Clear and Present Danger (1994)': 5.0,
     'Cliffhanger (1993)': 3.0,
     'Clockwork Orange, A (1971)': 4.0,
     'Clueless (1995)': 4.0,
     'Con Air (1997)': 4.0,
     'Conan the Barbarian (1981)': 3.0,
     'Coneheads (1993)': 4.0,
     'Cool Hand Luke (1967)': 5.0,
     'Cops and Robbersons (1994)': 3.0,
     'Cowboy Way, The (1994)': 3.0,
     'Crow, The (1994)': 3.0,
     'Dances with Wolves (1990)': 5.0,
     "Dante's Peak (1997)": 3.0,
     'Dave (1993)': 4.0,
     'Days of Thunder (1990)': 5.0,
     'Dead Man Walking (1995)': 4.0,
     'Dead Poets Society (1989)': 5.0,
     'Deer Hunter, The (1978)': 3.0,
     'Demolition Man (1993)': 3.0,
     'Desperado (1995)': 3.0,
     'Die Hard (1988)': 4.0,
     'Die Hard: With a Vengeance (1995)': 4.0,
     'Down Periscope (1996)': 4.0,
     'Dragonheart (1996)': 4.0,
     'Dumb & Dumber (1994)': 4.0,
     'Dunston Checks In (1996)': 1.0,
     'E.T. the Extra-Terrestrial (1982)': 3.0,
     'Ed Wood (1994)': 3.0,
     'Empire Strikes Back, The (1980)': 5.0,
     'Endless Summer 2, The (1994)': 3.0,
     'Evil Dead II (1987)': 2.0,
     'Executive Decision (1996)': 3.0,
     'Fargo (1996)': 5.0,
     'First Wives Club, The (1996)': 2.0,
     'Fish Called Wanda, A (1988)': 5.0,
     'Forget Paris (1995)': 4.0,
     'Four Weddings and a Funeral (1994)': 5.0,
     'French Kiss (1995)': 5.0,
     'Fugitive, The (1993)': 5.0,
     'Full Metal Jacket (1987)': 4.0,
     'Get Shorty (1995)': 5.0,
     'Glory (1989)': 4.0,
     'Godfather, The (1972)': 4.0,
     'GoldenEye (1995)': 4.0,
     'Good, The Bad and The Ugly, The (1966)': 5.0,
     'GoodFellas (1990)': 4.0,
     'Grease (1978)': 4.0,
     'Great White Hype, The (1996)': 3.0,
     'Groundhog Day (1993)': 5.0,
     'Grumpier Old Men (1995)': 4.0,
     'Hard Target (1993)': 4.0,
     'Heat (1995)': 3.0,
     'Heathers (1989)': 3.0,
     'Home Alone (1990)': 4.0,
     'Hoop Dreams (1994)': 4.0,
     'Hot Shots! Part Deux (1993)': 4.0,
     'House Arrest (1996)': 3.0,
     'I Love Trouble (1994)': 3.0,
     'I.Q. (1994)': 5.0,
     'In the Army Now (1994)': 4.0,
     'In the Line of Fire (1993)': 5.0,
     'Independence Day (ID4) (1996)': 5.0,
     'Indiana Jones and the Last Crusade (1989)': 5.0,
     'Inkwell, The (1994)': 3.0,
     "It's a Wonderful Life (1946)": 5.0,
     'Jack (1996)': 3.0,
     'Jeffrey (1995)': 3.0,
     'Jimmy Hollywood (1994)': 3.0,
     "Joe's Apartment (1996)": 2.0,
     'Junior (1994)': 4.0,
     'Jurassic Park (1993)': 5.0,
     'Kingpin (1996)': 4.0,
     'Lightning Jack (1994)': 3.0,
     'Lost World: Jurassic Park, The (1997)': 3.0,
     'Low Down Dirty Shame, A (1994)': 3.0,
     'M*A*S*H (1970)': 5.0,
     'Magnificent Seven, The (1954)': 5.0,
     'Major Payne (1994)': 3.0,
     'Man of the House (1995)': 3.0,
     'Manchurian Candidate, The (1962)': 4.0,
     'Mars Attacks! (1996)': 3.0,
     'Mask, The (1994)': 3.0,
     'Matilda (1996)': 3.0,
     'Maverick (1994)': 3.0,
     'Michael (1996)': 4.0,
     'Mighty Aphrodite (1995)': 3.0,
     'Milk Money (1994)': 4.0,
     'Mission: Impossible (1996)': 4.0,
     "Monty Python's Life of Brian (1979)": 4.0,
     'Mother (1996)': 2.0,
     'Mrs. Doubtfire (1993)': 4.0,
     'Multiplicity (1996)': 3.0,
     'Muppet Treasure Island (1996)': 3.0,
     'My Favorite Year (1982)': 3.0,
     'Naked Gun 33 1/3: The Final Insult (1994)': 4.0,
     'Net, The (1995)': 5.0,
     'Nine Months (1995)': 4.0,
     'Nutty Professor, The (1996)': 4.0,
     'Platoon (1986)': 3.0,
     'Prefontaine (1997)': 5.0,
     'Private Benjamin (1980)': 4.0,
     'Professional, The (1994)': 4.0,
     'Program, The (1993)': 3.0,
     'Pulp Fiction (1994)': 4.0,
     "Pyromaniac's Love Story, A (1995)": 3.0,
     'Quiet Man, The (1952)': 5.0,
     'Raging Bull (1980)': 3.0,
     'Raiders of the Lost Ark (1981)': 5.0,
     'Raising Arizona (1987)': 3.0,
     'Reality Bites (1994)': 3.0,
     'Renaissance Man (1994)': 5.0,
     'Return of the Jedi (1983)': 5.0,
     'Return of the Pink Panther, The (1974)': 4.0,
     'River Wild, The (1994)': 4.0,
     'Sabrina (1995)': 4.0,
     'Santa Clause, The (1994)': 4.0,
     "Schindler's List (1993)": 4.0,
     'Searching for Bobby Fischer (1993)': 4.0,
     'Serial Mom (1994)': 1.0,
     'Shadow, The (1994)': 3.0,
     'Shawshank Redemption, The (1994)': 5.0,
     "Singin' in the Rain (1952)": 4.0,
     'Sleeper (1973)': 4.0,
     'Sleepers (1996)': 4.0,
     'Sleepless in Seattle (1993)': 5.0,
     'Sneakers (1992)': 4.0,
     'So I Married an Axe Murderer (1993)': 2.0,
     'Something to Talk About (1995)': 2.0,
     'Son in Law (1993)': 4.0,
     'Speechless (1994)': 4.0,
     'Speed (1994)': 5.0,
     'Speed 2: Cruise Control (1997)': 3.0,
     'Star Trek III: The Search for Spock (1984)': 4.0,
     'Star Trek IV: The Voyage Home (1986)': 5.0,
     'Star Trek: First Contact (1996)': 4.0,
     'Star Trek: The Motion Picture (1979)': 3.0,
     'Star Trek: The Wrath of Khan (1982)': 5.0,
     'Star Wars (1977)': 5.0,
     'Stargate (1994)': 5.0,
     'Sting, The (1973)': 5.0,
     'Strange Days (1995)': 3.0,
     'Strictly Ballroom (1992)': 3.0,
     'Striptease (1996)': 2.0,
     'Supercop (1992)': 3.0,
     'Swimming with Sharks (1995)': 3.0,
     'Switchblade Sisters (1975)': 2.0,
     'Terminator 2: Judgment Day (1991)': 5.0,
     'Terminator, The (1984)': 5.0,
     'That Old Feeling (1997)': 4.0,
     'That Thing You Do! (1996)': 4.0,
     'This Is Spinal Tap (1984)': 5.0,
     'To Die For (1995)': 3.0,
     'To Kill a Mockingbird (1962)': 4.0,
     'To Wong Foo, Thanks for Everything! Julie Newmar (1995)': 3.0,
     'Tommy Boy (1995)': 4.0,
     'Top Gun (1986)': 5.0,
     'Treasure of the Sierra Madre, The (1948)': 4.0,
     'True Lies (1994)': 5.0,
     'Truth About Cats & Dogs, The (1996)': 4.0,
     'Twelve Monkeys (1995)': 4.0,
     'Twister (1996)': 4.0,
     "Ulee's Gold (1997)": 3.0,
     'Under Siege (1992)': 4.0,
     'Up in Smoke (1978)': 3.0,
     'Vegas Vacation (1997)': 4.0,
     'Victor/Victoria (1982)': 4.0,
     'Waterworld (1995)': 4.0,
     "Weekend at Bernie's (1989)": 3.0,
     'When Harry Met Sally... (1989)': 5.0,
     'While You Were Sleeping (1995)': 5.0,
     'Wizard of Oz, The (1939)': 5.0,
     'Wyatt Earp (1994)': 3.0,
     'Young Frankenstein (1974)': 5.0,
     'Young Guns (1988)': 3.0,
     'Young Guns II (1990)': 2.0}



ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê³ , ì„ì˜ì˜ ì‚¬ìš©ì í‰ê°€ ì ìˆ˜ë¥¼ ì‚´í´ ë³¸ë‹¤.(ì±…ê³¼ëŠ” ì˜ˆì œê°€ ë‹¤ë¦„)

ì‚¬ìš©ì ì¶”ì²œ ê¸°ë²•ì„ ì ìš©


    getRecommendations(prefs, '87')[0:30]




    [(5.0, 'They Made Me a Criminal (1939)'),
     (5.0, 'Star Kid (1997)'),
     (5.0, 'Santa with Muscles (1996)'),
     (5.0, 'Saint of Fort Washington, The (1993)'),
     (5.0, 'Marlene Dietrich: Shadow and Light (1996) '),
     (5.0, 'Great Day in Harlem, A (1994)'),
     (5.0, 'Entertaining Angels: The Dorothy Day Story (1996)'),
     (5.0, 'Boys, Les (1997)'),
     (4.89884443128923, 'Legal Deceit (1997)'),
     (4.815019082242709, 'Letter From Death Row, A (1998)'),
     (4.7321082983941425, 'Hearts and Minds (1996)'),
     (4.696244466490867, 'Pather Panchali (1955)'),
     (4.652397061026758, 'Lamerica (1994)'),
     (4.538723693474813, 'Leading Man, The (1996)'),
     (4.535081339106103, 'Mrs. Dalloway (1997)'),
     (4.532337612572981, 'Innocents, The (1961)'),
     (4.527998574747079, 'Casablanca (1942)'),
     (4.510270149719864, 'Everest (1998)'),
     (4.493967755428439, 'Dangerous Beauty (1998)'),
     (4.485151301801342, 'Wallace & Gromit: The Best of Aardman Animation (1996)'),
     (4.463287461290222, 'Wrong Trousers, The (1993)'),
     (4.450979436941035, 'Kaspar Hauser (1993)'),
     (4.431079071179518, 'Usual Suspects, The (1995)'),
     (4.427520682864959, 'Maya Lin: A Strong Clear Vision (1994)'),
     (4.414870784592075, 'Wedding Gift, The (1994)'),
     (4.377445252656464, 'Affair to Remember, An (1957)'),
     (4.376071110447771, 'Good Will Hunting (1997)'),
     (4.376011099001396, 'As Good As It Gets (1997)'),
     (4.374146179500976, 'Anna (1996)'),
     (4.367437266504598, 'Close Shave, A (1995)')]



í•­ëª©ê¸°ë°˜ ì¶”ì²œ ê¸°ë²• ì ìš©<br>
í•­ëª©ê¸°ë°˜ ë°ì´í„°ì…‹ ì‘ì„±


    itemsim = calculateSimilarItems(prefs, n=50)

    100 / 1664
    200 / 1664
    300 / 1664
    400 / 1664
    500 / 1664
    600 / 1664
    700 / 1664
    800 / 1664
    900 / 1664
    1000 / 1664
    1100 / 1664
    1200 / 1664
    1300 / 1664
    1400 / 1664
    1500 / 1664
    1600 / 1664



    getRecommendedItems(prefs,itemsim,'87')[0:30]




    [(5.0, "What's Eating Gilbert Grape (1993)"),
     (5.0, 'Vertigo (1958)'),
     (5.0, 'Usual Suspects, The (1995)'),
     (5.0, 'Toy Story (1995)'),
     (5.0, 'Titanic (1997)'),
     (5.0, 'Sword in the Stone, The (1963)'),
     (5.0, 'Stand by Me (1986)'),
     (5.0, 'Sling Blade (1996)'),
     (5.0, 'Silence of the Lambs, The (1991)'),
     (5.0, 'Shining, The (1980)'),
     (5.0, 'Shine (1996)'),
     (5.0, 'Sense and Sensibility (1995)'),
     (5.0, 'Scream (1996)'),
     (5.0, 'Rumble in the Bronx (1995)'),
     (5.0, 'Rock, The (1996)'),
     (5.0, 'Robin Hood: Prince of Thieves (1991)'),
     (5.0, 'Reservoir Dogs (1992)'),
     (5.0, 'Police Story 4: Project S (Chao ji ji hua) (1993)'),
     (5.0, 'House of the Spirits, The (1993)'),
     (5.0, 'Fresh (1994)'),
     (5.0, 'Denise Calls Up (1995)'),
     (5.0, 'Day the Sun Turned Cold, The (Tianguo niezi) (1994)'),
     (5.0, 'Before the Rain (Pred dozhdot) (1994)'),
     (5.0, 'Assignment, The (1997)'),
     (5.0, '1-900 (1994)'),
     (4.875, "Ed's Next Move (1996)"),
     (4.833333333333333, 'Anna (1996)'),
     (4.8, 'Dark City (1998)'),
     (4.75, 'Flower of My Secret, The (Flor de mi secreto, La) (1995)'),
     (4.75, 'Broken English (1996)')]



í•­ëª©ê¸°ë°˜ ìœ ì‚¬ë„ ë”•ì…˜ì–´ë¦¬ë¥¼ ë§Œë“œëŠ”ë° ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ì§€ë§Œ, ì¼ë‹¨ ë§Œë“¤ê³  ë‚˜ë©´ ì¶”ì²œì€ ê±°ì˜ ì¦‰ì‹œ ë‚˜íƒ€ë‚œë‹¤.<br>
ì¶”ì²œ ëª©ë¡ì„ ì–»ëŠ”ë° ì†Œìš”ë˜ëŠ” ì‹œê°„ì´ ì‚¬ìš©ììˆ˜ê°€ ë§ì•„ì ¸ë„ ì¦ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.

ê·¸ë£¹ë Œì¦ˆ ì›¹ ì‚¬ì´íŠ¸ì—ëŠ” ì±…, ë†ë‹´, ì˜í™” ê°™ì€ ë‹¤ë¥¸ ë°ì´í„°ê°€ ë” ìˆìœ¼ë‹ˆ ì‹¤ìŠµì„ í•´ë³´ì„¸ìš”

#9. ì‚¬ìš©ì ê¸°ë°˜ í•„í„°ë§ê³¼ í•­ëª© ê¸°ë°˜ í•„í„°ë§

<img src=./img/algorithms.png width=600>

ì°¸ê³  ë§í¬[http://www.kthdaisy.com/recommendation_system_kthdaisy/]

#ì‚¬ìš©ì ê¸°ë°˜(user-user)

ë‘ ì‚¬ìš©ìì˜ ê³µí†µëœ ì•„ì´í…œì„ ê¸°ë°˜ìœ¼ë¡œ ì–¼ë§ˆë‚˜ ë§ì´ ì¼ì¹˜í•˜ëŠ”ì§€ ê±°ë¦¬ë¥¼ ìˆ˜ì¹˜í™”í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì§ê³¼ ì œì¸ì´ ê°ê° íŠ¸ë¡ ì´ë¼ëŠ” ì˜í™”ì— 5ì ì„ ì…ë ¥í•˜ì˜€ë‹¤ë©´, ê·¸ ë‘˜ ì‚¬ì´ì˜ ê±°ë¦¬ëŠ” 0ì…ë‹ˆë‹¤. ë°˜ë©´, í•œëª…ì€ 5 ì , ë‚˜ë¨¸ì§€ í•œëª…ì€ 3ì ì„ ì…ë ¥í•˜ì˜€ë‹¤ë©´ ê±°ë¦¬ëŠ” ì¦ê°€í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì‚¬ìš©ìê°„ì˜ ìœ ì‚¬ë„ë¥¼ í™œìš©í•˜ì—¬ ì¶”ì²œí•˜ëŠ” ë°©ì‹ì´ ì‚¬ìš©ì ê¸°ë°˜ì´ë¼ê³  ë³¼ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, ì‚¬ìš©ì ê¸°ë°˜ì˜ í•„í„°ë§ì€ ê³µí†µì ì„ ì´ëŒì–´ë‚´ëŠ” ê²ƒì´ ì‰½ì§€ ì•Šë‹¤ëŠ” ë¬¸ì œì ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ì‚¬ìš©ì ê°„ì˜ ê³µí†µì ì´ ì¶”ì²œì— í™œìš©í•  ìˆ˜ ì—†ì„ ë§í¼ ë°ì´í„°ê°€ ë¶€ì¡±í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í•œê°€ì§€ ì˜ˆë¥¼ ë“¤ë©´, ëŒ€ë¶€ë¶„ì˜ ì‚¬ëŒë“¤ì€ ë¸”ë¡ë²„ìŠ¤í„° ì˜í™”ì— ì„ í˜¸ë„ê°€ ì§‘ì¤‘í•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ë°ì´í„°ê°€ ë¸”ë¡ ë²„ìŠ¤í„° ì˜í™”ì—ë§Œ ë°ì´í„°ê°€ ëª°ë ¤ìˆê¸° ë•Œë¬¸ì— ì¶”ì²œì˜ ê²°ê³¼ê°€ ëª¨ë“  ì‚¬ìš©ìë“¤ì—ê²Œ ë™ì¼í•œ í˜„ìƒì´ ë°œìƒí•  í™•ë¥ ì´ ë†’ìœ¼ë©°, ì´ëŠ” ì¶”ì²œì— ëŒ€í•´ ë¬´ì˜ë¯¸í•œ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ê¸°ë„ í•©ë‹ˆë‹¤. ë˜ëŠ” ì›¹ì‚¬ì´íŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë³¼ ë•Œ ì–´ë–¤ í˜ì´ì§€ì˜ íŠ¹ì • ë¶€ë¶„ì„ í´ë¦­í•˜ëŠ”ë° ë§ì€ ì‹œê°„ì´ ê±¸ë¦¬ê¸° ë•Œë¬¸ì— ë°ì´í„° ìˆ˜ì§‘ ìì²´ì— ì–´ë ¤ì›€ì„ ê²ªì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ê°„ë‹¨í•œ ì„¤ëª…ì´ë¼ ë¶€ì¡±í•œ ì ì´ ìˆì§€ë§Œ, ì¶”ì²œì— ìˆì–´ ì ì ˆí•œ ë°ì´í„° ì–‘ì˜ ë¶€ì¡±ìœ¼ë¡œ ì¸í•´ ê³µí†µìš”ì†Œ(ë¶„ë¥˜ê¸°ì¤€)ì„ ë¶„ë¥˜í•œë‹¤ëŠ” ê²Œ ì•„ì£¼ ë‹¨ìˆœí•˜ë‹¤ê³ ëŠ” ë³¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ë¥¼ ë³´ì™„í•  ìˆ˜ ìˆëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜ê°€ ì•„ì´í…œ ê¸°ë°˜ì´ë¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#ì•„ì´í…œ ê¸°ë°˜ (item-item)

ì˜¤ëŠ˜ë‚  ëŒ€ë¶€ë¶„ì˜ ì¶”ì²œì‹œìŠ¤í…œì€ ì‚¬ìš©ì ê¸°ë°˜ ëŒ€ì‹  ì•„ì´í…œ ê°„ì˜ ê±°ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì•„ì´í…œ ê¸°ë°˜ì„ í™œìš©í•©ë‹ˆë‹¤. ë„·í”Œë¦­ìŠ¤ì™€ ì•„ë§ˆì¡´ì´ ì„¸ë¶€ì ì¸ ë‚´ìš©ì€ ê³µê°œí•˜ì§„ ì•Šì§€ë§Œ, ì•„ì´í…œ ê¸°ë°˜ì˜ ë‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤ê³  ê³µê°œì ìœ¼ë¡œ ì–¸ê¸‰í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì•„ì´í…œ ê¸°ë°˜ì— ëŒ€í•´ ì˜ˆë¥¼ ë“¤ì–´ ì„¤ëª…ì„ ê°„ëµíˆ í•˜ë©´, í†°í´ëœì‹œì˜ ì±…ì„ ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒë“¤ì´ Clive Cusslerì˜ ì±…ë„ ì•„ì£¼ ì¢‹ì•„í•œë‹¤ë©´,Clancy ì™€ CusslerëŠ” ì•„ì£¼ ê°€ê¹ë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ì‚¬ìš©ìê¸°ë°˜ê³¼ ë™ì¼í•˜ê²Œ ìœ ì‚¬ë„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì•„ì´í…œ ê°„ì˜ ê±°ë¦¬ë¥¼ ì¸¡ì •í•œ í›„ ìœ ì‚¬í•œ ì•„ì´í…œì„ ì¶”ì²œí•˜ëŠ” ë°©ì‹ì„ ì·¨í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ ì‚¬ìš©ìëŒ€ë¹„ ì•„ì´í…œì´ ì ì€ ìˆ˜ë¥¼ ì°¨ì§€í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì•„ì´í…œì„ ê¸°ì¤€ìœ¼ë¡œ ë³¼ ë•Œ ì•„ì£¼ ë‹¤ì–‘í•œ ê´€ê³„ ë°ì´í„°ê°€ ë°œìƒí•  í™•ë¥ ì´ ë†’ë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë°©ì‹ì€ ë°ì´í„°ê°€ ëˆ„ì  ë ìˆ˜ë¡ ì¶”ì²œì˜ ì •í™•ë„ê°€ ë†’ì¼ ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.

ì°¸ê³ ë¡œ, ì›í•˜ëŠ” ì „í™”ë²ˆí˜¸ë¥¼ ì‰½ê²Œ ì°¾ì•„ ì „í™” í•  ìˆ˜ ìˆëŠ” ëŒ€í‘œì ì¸ 114ì „êµ­ì „í™” ì•±ì—ì„œë„ ì•„ì´í…œ ê¸°ë°˜ì˜ ë¶„ì„ì„ í†µí•´, ì¶”ì²œ ê²€ìƒ‰ì–´, ê²€ìƒ‰í’ˆì§ˆ ê°œì„ ì— ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.

Deep Learning Based Collaborative Filtering

<img src=./img/RBMS.png width=600>


    
